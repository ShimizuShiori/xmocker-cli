webpackJsonp([2,0],[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=i(13),o=n(a),r=i(114),s=n(r),d=i(46),c=n(d),l=i(47),m=n(l);new o.default({el:"#app",template:"<App/>",router:c.default,store:m.default,components:{App:s.default}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(1)(i(50),i(134),null,null);t.exports=n.exports},,,,,,,,,,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(13),o=n(a),r=i(141),s=n(r),d=i(121),c=n(d),l=i(122),m=n(l),u=i(118),p=n(u),v=i(117),h=n(v),f=i(119),_=n(f),b=i(116),g=n(b),j=i(120),y=n(j),w=i(124),P=n(w),C=i(123),k=n(C),S=i(125),A=n(S);o.default.use(s.default);var x=new s.default({routes:[{name:"index",path:"/",component:c.default},{name:"project-list",path:"/projectList/",component:m.default},{name:"api-list",path:"/api/:id?",component:p.default},{name:"app-base",path:"/app/base",component:_.default},{name:"api-add",path:"/apiAdd/:id?",component:h.default},{name:"log",path:"/log/",component:y.default},{name:"sync-proj",path:"/sync-proj/",component:P.default},{name:"sync-api",path:"/sync-proj/:id",component:k.default},{name:"about",path:"/about",component:g.default},{name:"tips",path:"/tips",component:A.default}]});e.default=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(65),o=n(a),r=i(13),s=n(r),d=i(142),c=n(d);s.default.use(c.default);var l=new c.default.Store({state:{ws:{cmd:[{_cmd:"init"}],logs:[]}},mutations:{pushCmd:function(t,e){t.ws.cmd.push(e)},shiftCmd:function(t,e){t.ws.cmd.shift()},setLogs:function(t,e){t.ws.logs.splice(0,t.ws.logs.length),t.ws.logs=e},pushLogs:function(t,e){var i;(i=t.ws.logs).push.apply(i,(0,o.default)(e))}}});e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(14),o=n(a),r=i(140),s=n(r),d=i(115),c=n(d),l=i(13),m=i(139);i(113),l.use(m),l.use(s.default),l.material.registerTheme("default",{primary:"blue",accent:"red",warn:"red",background:"white"}),l.material.registerTheme("menu",{primary:"white",accent:"red",warn:"red",background:"white"}),l.material.registerTheme({rightbar:{primary:"orange",accent:"teal",warn:"white"}}),e.default={name:"app",components:{"nav-bar":c.default},data:function(){return{appBase:{},socket:null}},watch:{"$store.state.ws.cmd":function(t){this.execCmd()}},created:function(){this.app=this.$resource("",{},{get:{method:"GET",url:"/mock/getAppBase"}}),this.getBaseInfo().then(function(){this.initSocket()})},mounted:function(){},methods:{initSocket:function(){var t=new WebSocket("ws://localhost:"+(this.appBase.managePort||6001)),e=this;t.onopen=function(i){e.socket=t,t.onmessage=function(t){try{var i=JSON.parse(t.data)}catch(t){}if(i&&i._cmd)try{e.$store.commit(i._cmd,i.data)}catch(t){}},e.execCmd()},t.onclose=function(t){setTimeout(e.initSocket,5e3)},t.onerror=function(t){}},getBaseInfo:function(){return this.app.get({}).then(function(t){var e=t.data;e.code||(this.appBase=e.data.result||{})})},execCmd:function(){var t=this.$store.state.ws.cmd[0];t&&this.socket&&1===this.socket.readyState&&(this.$store.commit("shiftCmd"),this.socket.send((0,o.default)(t)))}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"nav-bar",data:function(){return{}},methods:{navTo:function(t,e){this.$router.push({name:e,params:{}})}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(62),o=n(a);e.default={props:{mdSize:{type:[Number,String],default:10},mdPageOptions:[Array,Boolean],mdPage:{type:[Number,String],default:1},mdTotal:{type:[Number,String],default:"Many"},mdLabel:{type:String,default:"Rows per page"},mdSeparator:{type:String,default:"of"}},data:function(){return{subTotal:0,currentSize:parseInt(this.mdSize,10),currentPage:parseInt(this.mdPage,10)}},computed:{lastPage:function(){return!1},totalItems:function(){return isNaN(this.mdTotal)?o.default:parseInt(this.mdTotal,10)}},methods:{emitPaginationEvent:function(){if(this.canFireEvents){var t=this.currentPage*this.currentSize;this.subTotal=t>this.mdTotal?this.mdTotal:t,this.$emit("pagination",{size:this.currentSize,page:this.currentPage})}},changeSize:function(){this.canFireEvents&&(this.$emit("size",this.currentSize),this.emitPaginationEvent())},previousPage:function(){this.canFireEvents&&(this.currentPage--,this.$emit("page",this.currentPage),this.emitPaginationEvent())},nextPage:function(){this.canFireEvents&&(this.currentPage++,this.$emit("page",this.currentPage),this.emitPaginationEvent())}},mounted:function(){var t=this;this.$nextTick(function(){t.subTotal=t.currentPage*t.currentSize,t.mdPageOptions=t.mdPageOptions||[10,25,50,100],t.currentSize=t.mdPageOptions[0],t.canFireEvents=!0})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"about"}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(14),o=n(a),r=i(15),s=n(r),d=i(33),c=n(d);e.default={name:"projectList",components:{tbPagination:c.default},data:function(){return{selection:{proj:"",deleteId:""},confirm:{title:"删除项目",contentHtml:" ",type:"delete"},alertInfo:{content:" "},pageInfo:{total:0,pageNo:1,pageSize:5},formModel:{apiBase:{_id:"",name:"",url:"/api",project:"",method:"post",path:"func",keywords:"",description:""},apiModel:[{_id:"",name:"主干",condition:"",inputParam:"{}",outputParam:"{}",data:"{}"}],currentIndex:0,type:"base"},apiBasicForm:[{name:"api名称，必填，是用于识别访问的api地址，如 appointmentNotice",model:"name"},{name:"url，实际请求的url地址，必填，如 /api",model:"url"},{name:"所属项目id",model:"project"},{name:"请求方法，必填，可选POST, GET, DELETE, PUT",model:"method"},{name:'api识别路径，==""时，请设置api名称==url，其他情况从上传的参数获取，如post参数为：{func: "sss"}，api名称==sss且url相同时返回该api',model:"path"},{name:"关键词",model:"keywords"},{name:"api具体描述，必填",model:"description"}],projList:[]}},created:function(){this.app=this.$resource("",{},{getProj:{method:"GET",url:"/mock/getAppProject"},getApiDetail:{method:"GET",url:"/mock/getApiDetail"},getModel:{method:"GET",url:"/mock/getApiModel"},addBase:{method:"POST",url:"/mock/addApiBase"},addModel:{method:"POST",url:"/mock/addApiModel"},editBase:{method:"PUT",url:"/mock/editApiBase"},editModel:{method:"PUT",url:"/mock/editApiModel"},deleteBase:{method:"DELETE",url:"/mock/deleteApiBase"},deleteModel:{method:"DELETE",url:"/mock/deleteApiModel"},setApi:{method:"PUT",url:"/mock/setApiStatus"}})},mounted:function(){this.getProjectList().then(function(){this.getApiInfo()})},methods:{getProjectList:function(){var t={pageSize:2e3,pageNo:0};return this.app.getProj(t).then(function(t){if(t=t.data,t.code)return void this.alert(t.err);this.projList=t.data.list;var e=window.localStorage.getItem("api-select-proj");e&&t.data.list.find(function(t){return t._id===e})&&(this.formModel.apiBase.project=e)})},projSelect:function(t){window.localStorage.setItem("api-select-proj",t)},getApiInfo:function(t){var e=this.$route.params.id;if(e){var i={id:e};return this.app.getApiDetail(i).then(function(t){var e=t.data;return e.code?void this.alert(e.err):void(e.data.base&&e.data.base[0]&&(this.dealModelResult(e.data.model),this.formModel.apiBase=e.data.base[0],this.formModel.apiModel=e.data.model||[]))})}},submitApiBase:function(){var t=this,e=this.formModel.apiBase,i=void 0;return e.id=this.formModel.apiBase._id,i=e._id?this.app.editBase(e):this.app.addBase(e),i.then(function(e){var i=e.data;return i.code?void t.alert(i.err):(i=i.data,t.formModel.apiBase=t.copyObj(t.formModel.apiBase,i.result),void(i.tip&&t.alert(i.tip)))}),i},submitApiModel:function(t){var e=this,i=this.formModel.apiModel[t];if(i){i.baseid=this.formModel.apiBase._id,i.id=i._id,i.inputParam=this.formatJSONString(i.inputParam),i.outputParam=this.formatJSONString(i.outputParam),i.data=this.formatJSONString(i.data);var n=void 0;return n=i._id?this.app.editModel(i):this.app.addModel(i),n.then(function(i){var n=i.data;return n.code?void e.alert(n.err):(n=n.data,e.dealModelResult(n.result),e.formModel.apiModel[t]=e.copyObj(e.formModel.apiModel[t],n.result),void(n.tip&&e.alert(n.tip)))}),n}},deleteModel:function(){var t=this.formModel.apiModel[this.formModel.currentIndex],e={id:t._id};return this.app.deleteModel(e).then(function(t){t=t.data,this.alert(t.err||t.data.tip),t.code||this.formModel.apiModel.splice(this.formModel.currentIndex,1)})},deleteApiModel:function(t){var e=t.target.getAttribute("data-mIndex");if(null!=e){if(this.formModel.currentIndex=e,!this.formModel.apiModel[e]._id)return void this.alert("该条目尚未录入系统");this.formModel.type="delete",this.confirm.contentHtml="是否删除api分支？",this.confirm.title="删除api分支",this.confirm.type="delete",this.$refs.confirmDiag.open()}},setAsNow:function(t){var e=t.target.getAttribute("data-mIndex");if(null!=e){var i=this.formModel.apiModel[e];if(i){var n=i.data;if(n){try{n=JSON.parse(n),n=n[0]}catch(t){return}this.app.setApi({id:this.formModel.apiBase._id,type:"fixed",data:n}).then(function(t){t=t.data,this.alert(t.err||t.data.tip)})}}}},buttonSubmit:function(t,e){this.confirm.type="operation",this.confirm.type="modify",null!=e?(this.formModel.type="model",this.formModel.currentIndex=e,this.confirm.contentHtml="是否提交api分支？",this.confirm.title="提交api分支"):(this.formModel.type="base",this.confirm.contentHtml="是否提交api基础信息？",this.confirm.title="提交api基础信息"),this.$refs.confirmDiag.open()},buttonAddNew:function(){this.formModel.apiModel.push({_id:"",name:"",condition:"",inputParam:"",outputParam:"",data:""})},alert:function(t){this.$set(this.alertInfo,"content",t),this.$refs.alertInfo.open()},closeDialog:function(t){this.$refs[t].close()},confirmClose:function(t){if("ok"===t)if("delete"===this.confirm.type)this.deleteModel();else{var e=this.formModel.type,i=this.formModel.currentIndex;"base"===e?this.submitApiBase():"model"===e&&this.submitApiModel(i)}},catchError:function(t){this.alert("网络错误，请稍后重试")},copyObj:function(t,e){for(var i in e)t[i]="object"===("undefined"==typeof i?"undefined":(0,s.default)(i))?this.copyObj(t[i]||{},e[i]):e[i];return t},formatJSONString:function(t){var e;try{e=new Function("return "+t)()}catch(t){return void console.log(t)}return(0,o.default)(e)},prettyJSON:function(t){return(0,o.default)(t,null,4)},dealModelResult:function(t){var e=this;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.forEach(function(t){t.inputParam=e.prettyJSON(t.inputParam),t.outputParam=e.prettyJSON(t.outputParam),t.data=e.prettyJSON(t.data)})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"api-list",data:function(){return{selection:{proj:"",projName:"",deleteId:"",copyApi:[],copyProj:[],search:""},show:{copy:!1,proj:!1,search:!1},projList:[],apiList:[],pageInfo:{total:0,pageNo:0,pageSize:10,pageNum:0},confirm:{title:"删除api",contentHtml:" ",type:"delete"},alertInfo:{content:" "}}},watch:{"$route.path":function(){this.pageInfo.pageNo=0,this.getApiList()}},computed:{},mounted:function(){this.app=this.$resource("",{},{get:{method:"GET",url:"/mock/getApiBase"},search:{method:"GET",url:"/mock/searchApiBase"},delete:{method:"DELETE",url:"/mock/deleteApiBase"},copyApi:{method:"PUT",url:"/mock/copyApi"},getProj:{method:"GET",url:"/mock/getAppProject"},setApi:{method:"PUT",url:"/mock/setApiStatus"}});var t=document.documentElement.clientWidth-100,e=document.documentElement.clientHeight-150;if(t>0){var i=Math.floor(t/390),n=Math.floor(e/290),a=i*n;this.pageInfo.pageSize=a<6?6:a}this.pageInfo.pageNo=parseInt(this.$route.query.pageNo)-1||0,this.getProjectList()},methods:{getProjectList:function(){var t={pageSize:2e3,pageNo:0};return this.app.getProj(t).then(function(t){if(t=t.data,t.code)return void this.alert(t.err);this.projList=t.data.list;var e=this.$route.params.id||window.localStorage.getItem("api-list-proj-id")||this.projList[0]._id;this.selection.proj=e;var i=this.projList.find(function(t){return t._id===e});i&&(this.selection.projName=i.name),this.selection.proj&&this.getApiList()})},getApiList:function(){var t={project:this.selection.proj,pageSize:this.pageInfo.pageSize,pageNo:this.pageInfo.pageNo},e=this.$route.query||{};return e.name&&(t.name=e.name),this.app.get(t).then(function(t){return t=t.data,t.code?void this.alert(t.err):(this.apiList=t.data.list,this.pageInfo.total=t.data.pagination.total,void(this.pageInfo.pageNum=t.data.pagination.pageNum))})},getFullApiList:function(){var t={project:this.selection.proj,pageSize:2e3,pageNo:0};return this.app.get(t).then(function(t){return t=t.data,t.code?void this.alert(t.err):void(this.apiList=t.data.list)})},searchApi:function(t){var e={project:this.selection.proj,words:t,pageSize:2e3,pageNo:0};return t?this.app.search(e).then(function(t){return t=t.data,t.code?void this.alert(t.err):void(this.apiList=t.data.list)}):void this.getApiList()},deleteModel:function(t){var e={id:t};return this.app.delete(e).then(function(t){t=t.data,this.alert(t.err||t.data.tip),this.getApiList()})},copyApi:function(){var t,e=[];for(t in this.selection.copyApi)e.push(this.selection.copyApi[t]._id);var i=[];for(t in this.selection.copyProj)i.push(this.selection.copyProj[t]._id);var n={from:e.join(","),to:i.join(",")};return this.app.copyApi(n).then(function(t){t=t.data,this.alert(t.err||t.data.tip),this.getApiList()})},buttonNav:function(t,e){var i=this.pageInfo;if(i.pageNo+=~~e,i.pageNo<0)return void(i.pageNo=0);if(i.total>i.pageNo*i.pageSize){var n={pageNo:i.pageNo+1};n.name=this.$route.query.name,this.$router.replace({name:"api-list",params:this.$route.params,query:n}),this.getApiList()}else i.pageNo--},buttonSelectProj:function(){this.$router.replace({name:"api-list",params:{id:this.selection.proj}}),this.pageInfo.pageNo=0,this.getApiList()},buttondeleteApi:function(t,e){this.selection.deleteId=e._id,this.confirm.title="删除api",this.confirm.type="delete",this.confirm.contentHtml="是否删除api "+e.name+", id:"+e._id,this.$refs.confirmDiag.open()},buttonEditApi:function(t,e){this.$router.push({name:"api-add",params:{id:e}})},buttonCopyApi:function(t,e){this.backApi=this.apiList,this.show.copy=!0},buttonCopyAllApi:function(t,e){this.backApi=this.apiList,this.getFullApiList().then(function(){this.show.copy=!0})},buttonSubmitCopy:function(t){this.confirm.title="复制api",this.confirm.type="copy",this.confirm.contentHtml="是否复制api到项目中",this.$refs.confirmDiag.open()},buttonCloseCopy:function(){this.apiList=this.backApi,this.show.copy=!1},buttonSetApi:function(t,e,i){this.app.setApi({type:i,id:e}).then(function(t){if(t=t.data,t.code)return void this.alert(t.err)})},showSearch:function(t){this.show.search=!this.show.search},inputSearch:function(t){this.searchApi(t)},chooseProj:function(){this.show.proj=!0},setSelectionVal:function(t){var e=this.getParentNode(t.target,"m-api-list-selection"),i=e.getAttribute("data-id");i&&(this.selection.proj=i,this.selection.projName=e.getAttribute("data-name"),window.localStorage.setItem("api-list-proj-id",i),this.buttonSelectProj(),this.show.proj=!1)},getParentNode:function(t,e){for(var i=t,n=i.className;i&&n.indexOf(e)<0;)i=i.parentNode,n=i.className||"";return i},alert:function(t){this.$set(this.alertInfo,"content",t),this.$refs.alertInfo.open()},confirmClose:function(t){"ok"===t&&("delete"===this.confirm.type?this.selection.deleteId&&this.deleteModel(this.selection.deleteId):this.copyApi())},catchError:function(t){this.alert("网络错误，请稍后重试")},selectApi:function(t){this.selection.copyApi=t},selectProj:function(t){this.selection.copyProj=t},getFontSize:function(t){var e=t.length,i=318/e*2;return i>24?"24px":i+"px"}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(15),o=n(a),r=i(33),s=n(r);e.default={name:"projectList",components:{tbPagination:s.default},data:function(){return{selection:{proj:"",deleteId:""},confirm:{title:"删除项目",contentHtml:" ",type:"delete"},alertInfo:{content:" "},model:{remoteAddress:"",remoteName:"",remotePassword:"",managePort:"",defaultProject:""},projList:[]}},created:function(){this.app=this.$resource("",{},{getProj:{method:"GET",url:"/mock/getAppProject"},getAppBase:{method:"GET",url:"/mock/getAppBase"},editBase:{method:"PUT",url:"/mock/editAppBase"}})},mounted:function(){var t=this;this.getProjectList().then(function(){this.getAppInfo()}),document.onkeydown=function(e){if(e.ctrlKey&&83===e.keyCode)return t.buttonSubmit(),!1}},destroyed:function(){document.onkeydown=null},methods:{getProjectList:function(){var t={pageSize:2e3,pageNo:0};return this.app.getProj(t).then(function(t){return t=t.data,t.code?void this.alert(t.err):void(this.projList=t.data.list)})},getAppInfo:function(t){return this.app.getAppBase().then(function(t){var e=t.data;return e.code?void this.alert(e.err):void(e.data.result&&this.copyObj(this.model,e.data.result))})},submitAppBase:function(){var t=this,e=this.model,i=this.app.editBase(e);return i.then(function(e){var i=e.data;return i.code?void t.alert(i.err):(i=i.data,t.copyObj(t.model,i.result),void(i.tip&&t.alert(i.tip)))}),i},buttonSubmit:function(t,e){this.confirm.contentHtml="是否提交app基础信息？",this.confirm.title="提交api基础信息",this.$refs.confirmDiag.open()},alert:function(t){this.$set(this.alertInfo,"content",t),this.$refs.alertInfo.open()},closeDialog:function(t){this.$refs[t].close()},confirmClose:function(t){"ok"===t&&this.submitAppBase()},catchError:function(t){this.alert("网络错误，请稍后重试")},copyObj:function(t,e){for(var i in e)t[i]="object"===("undefined"==typeof i?"undefined":(0,o.default)(i))?this.copyObj(t[i]||{},e[i]):e[i];return t}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(14),o=n(a),r=i(15),s=n(r);e.default={name:"log",data:function(){return{detail:{},projList:[],selection:{proj:[],api:[],apiModel:[],chips:[{name:"getHospitalWeiXinGuid"}]},show:{proj:!0}}},watch:{logs:function(){var t=this,e=t.ele.scrollHeight-(t.ele.scrollTop+t.ele.clientHeight);e<50&&setTimeout(function(){t.ele.scrollTop=t.ele.scrollHeight},0)}},computed:{logs:function(){return this.$store.state.ws.logs},dHeight:function(){return document.documentElement.clientHeight-64+"px"}},mounted:function(){this.app=this.$resource("",{},{get:{method:"GET",url:"/mock/getAppStatus"},getProj:{method:"GET",url:"/mock/getAppProject"},setApi:{method:"PUT",url:"/mock/setApiStatus"}}),this.logs.length||this.getLogs(),this.ele=document.querySelector(".m-log-leftBox-main"),this.getProjectList()},methods:{getAppStatus:function(){},getLogs:function(){this.$store.commit("pushCmd",{_cmd:"getAllLogs",projectId:this.selection.proj,apiId:this.selection.api.map(function(t){return t.id}),apiModel:this.selection.apiModel.map(function(t){return t.id})})},getProjectList:function(){var t={pageSize:2e3,pageNo:0};return this.app.getProj(t).then(function(t){return t=t.data,t.code?void this.alert(t.err):void(this.projList=t.data.list)})},buttonSelectProj:function(){this.getLogs()},setApiAsDefault:function(){var t=this.detail;t.projectId&&t.apiId&&t.res&&this.app.setApi({type:"fixed",id:t.apiId,data:t.res})},showDetail:function(t,e){var i=this.getTarget(t.target,"m-log-item");if(i){var n=i.getAttribute("data-id"),a=this.logs[n];this.detail=a}},formatStr:function(t){var e="";return"object"!==("undefined"==typeof t?"undefined":(0,s.default)(t))?t:e=(0,o.default)(t,null,2)},formatTime:function(t){if(t){var e=new Date(t),i=e.getTimezoneOffset();return e=new Date(e.getTime()-60*i*1e3),e.toISOString().replace("T"," ").replace("Z","")}},getTarget:function(t,e){if(t){if(e===t.className)return t;for(var i=t.parentNode;i&&i.className!==e;)i=i.parentNode;return i&&i.className===e?i:void 0}},copyResult:function(t,e){this.copy2Clipboard((0,o.default)(e,null,2))},copy2Clipboard:function(t){var e=document.createElement("textarea");e.value=t,e.style.width=0,e.style.height=0,e.style.opacity=0,document.body.appendChild(e),e.select(),document.execCommand("Copy"),document.body.removeChild(e)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"main",data:function(){return{runningProject:[],hideRight:!0,urlList:[],selection:{proj:""},port:80}},computed:{},mounted:function(){this.app=this.$resource("",{},{get:{method:"GET",url:"/mock/getAppStatus"},start:{method:"PUT",url:"/mock/startAppProject"}}),this.getAppStatus()},methods:{getAppStatus:function(){this.app.get({}).then(function(t){var e=t.data;e.code||(this.runningProject=e.data.runningProject)})},startProject:function(t){var e={id:t,force:!0};return this.app.start(e).then(function(){this.getAppStatus()})},restartProj:function(t,e){this.startProject(e)},showList:function(t,e){this.hideRight=!1,this.urlList=e.procInfo.urls||[],this.port=e.procInfo.port,this.selection.proj=e.procInfo._id},findApi:function(t,e){var i=e.apis;i&&i.length&&this.$router.push({name:"api-list",params:{id:this.selection.proj},query:{name:i.join(",")}})},closePanel:function(){this.hideRight=!0,console.log("ss")}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(15),o=n(a),r=i(14),s=n(r),d=i(33),c=n(d),l=(0,s.default)({code:-1,codeDesc:"${msg}",codeDescUser:"${msg}"},null,2);e.default={name:"projectList",components:{tbPagination:c.default},data:function(){return{showSearch:!1,showProj:!1,list:[],selectedItem:[],proj:{type:"add",title:"新增项目",model:{_id:"",name:"",member:"",path:"",port:"",error:l,repeatTime:5,proxyTable:[],urls:[],gulp:"",webpack:""}},deleteInfo:{title:"删除项目",contentHtml:" "},alertInfo:{content:" "},pageInfo:{total:0,pageNo:1,pageSize:10}}},created:function(){this.app=this.$resource("",{},{get:{method:"GET",url:"/mock/getAppProject"},add:{method:"POST",url:"/mock/addAppProject"},edit:{method:"PUT",url:"/mock/editAppProject"},delete:{method:"DELETE",url:"/mock/deleteAppProject"},start:{method:"PUT",url:"/mock/startAppProject"},stop:{method:"PUT",url:"/mock/stopAppProject"}})},mounted:function(){this.getProject()},methods:{getProject:function(t){t&&(this.pageInfo.pageNo=t.page,this.pageInfo.pageSize=t.size);var e={pageSize:this.pageInfo.pageSize,pageNo:this.pageInfo.pageNo-1};return this.app.get(e).then(function(t){var i=t.data;return i.code?void this.alert(i.err):(this.dealModelResult(i.data.list),this.list=i.data.list,void(this.pageInfo={total:i.data.pagination.total,pageNo:i.data.pagination.pageNo+1,pageSize:e.pageSize}))})},addProject:function(){var t=this.copyObj({},this.proj.model),e=this.proj.model,i=this.formatJSONString(e.gulp),n=this.formatJSONString(e.webpack),a=this.formatJSONString(e.error),o=this.formatJSONString(e.urls),r=this.formatJSONString(e.proxyTable);return i?n?(a||(a=void 0),t.gulp=i,t.webpack=n,t.error=a,t.urls=o,t.proxyTable=r,this.app.add(t)):void this.alert("webpack配置格式不正确"):void this.alert("gulp配置格式不正确")},editProject:function(){var t=this.copyObj({},this.proj.model),e=this.proj.model,i=this.formatJSONString(e.gulp),n=this.formatJSONString(e.webpack),a=this.formatJSONString(e.error),o=this.formatJSONString(e.urls),r=this.formatJSONString(e.proxyTable);return i?n?(a||(a=void 0),t.gulp=i,t.webpack=n,t.error=a,t.urls=o,t.proxyTable=r,t.id=t._id,this.app.edit(t)):void this.alert("webpack配置格式不正确"):void this.alert("gulp配置格式不正确")},deleteProject:function(t){var e={id:t};return this.app.delete(e)},startProject:function(t){var e={id:t};return this.app.start(e)},stopProject:function(t){var e={id:t};return this.app.stop(e)},alert:function(t){this.$set(this.alertInfo,"content",t),this.$refs.alertInfo.open()},selectTable:function(t){},buttonSearch:function(t){this.showSearch=!0},closeDialog:function(t){this.$refs[t].close()},openDiag:function(t){var e=this.getSelected(),i=[];if(!e.length)return void this.alert("请至少选择一个项目");for(var n=0;n<e.length;n++)i.push("&nbsp;"+(n+1)+". "+e[n].name);this.deleteInfo.contentHtml="是否删除以下条目？<br/>"+i.join("<br/>"),this.$refs.deleteDiag.open()},deleteDiagClose:function(t){if("ok"===t){var e=this.selectedItem.map(function(t){return t._id});this.deleteProject(e.join(",")).then(function(t){t=t.data,this.getProject(),this.alert(t.err||t.data.tip)}).catch(this.catchError)}},controlProjectStatus:function(t,e){var i,n=this.getSelected(),a=n.map(function(t){return t._id});i=e?this.startProject(a.join(",")):this.stopProject(a.join(",")),i.then(function(t){t=t.data,this.getProject(),this.alert(t.err||t.data.tip)}).catch(this.catchError)},dealProject:function(t,e){"add"===e?(this.$set(this.proj,"type","add"),this.$set(this.proj,"title","新增项目"),this.proj.model={id:"",name:"",member:"",path:"",port:"",error:l,gulp:{},webpack:{}}):"edit"===e&&(this.$set(this.proj,"type","edit"),this.$set(this.proj,"title","编辑项目")),this.showProj=!0},cancelVal:function(t){this[t]=!1},submitProject:function(t){var e;"add"===this.proj.type?e=this.addProject():"edit"===this.proj.type&&(e=this.editProject()),e&&e.then(function(t){t=t.data,t.code||(this.showProj=!1),this.getProject(),t.err&&this.alert(t.err)}).catch(this.catchError)},buttonEdit:function(t){var e=t.target.getAttribute("data-id");if(e){var i=this.list.find(function(t){return t._id===e});i&&(this.proj.model=i,this.dealProject(t,"edit"))}},catchError:function(t){this.alert("网络错误，请稍后重试")},getSelected:function(){for(var t=document.querySelectorAll("#mytable table tbody tr.md-selected"),e=[],i=this.list,n=0;n<t.length;n++){var a=t[n],o=a.getAttribute("data-item")||"",r=i.find(function(t){return t._id===o});r&&e.push(r)}return this.selectedItem=e,e},copyObj:function(t,e){for(var i in e)t[i]="object"===("undefined"==typeof i?"undefined":(0,o.default)(i))?this.copyObj(t[i]||{},e[i]):e[i];return t},formatJSONString:function(t){t=t||"{}";var e;try{e=new Function("return "+t)()}catch(t){return}return(0,s.default)(e)},prettyJSON:function(t){return(0,s.default)(t,null,4)},dealModelResult:function(t){var e=this;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.forEach(function(t){t.gulp=e.prettyJSON(t.gulp),t.webpack=e.prettyJSON(t.webpack),t.urls=e.prettyJSON(t.urls),t.proxyTable=e.prettyJSON(t.proxyTable),t.error=e.prettyJSON(t.error)||l})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"sync-api",data:function(){return{selection:{},apiList:{},confirm:{title:"删除api",contentHtml:" ",type:"delete"},alertInfo:{content:" "}}},computed:{projName:function(){return this.$route.query.name}},mounted:function(){this.app=this.$resource("",{},{getApi:{method:"GET",url:"/mock/clientGetApiDiff"},downApi:{method:"PUT",url:"/mock/clientDownLoadApi"}}),this.getApiList()},methods:{getApiList:function(){var t=this.$route.params.id,e={id:t};return this.app.getApi(e).then(function(t){return t=t.data,t.code?void this.alert(t.err):void(this.apiList=t.data)})},downloadApi:function(){var t=this.selection.list;t=t.map(function(t){return t.base._uid}).join(",");var e=this.$route.params.id,i={ids:t,project:e};return this.app.downApi(i).then(function(t){t=t.data,this.alert(t.err||t.data.tips)})},selectApi:function(t,e){this.selection[e]=t},buttonDownload:function(t){this.setList(),this.confirm.title="下载api",this.confirm.type="download",this.confirm.contentHtml="是否下载api "+this.selection.list.map(function(t){return t.base.name+", uid:"+t.base._uid}).join("<br/>"),this.$refs.confirmDiag.open()},buttonUpload:function(t){},setList:function(){var t=["behind","server","ahead","unchanged","untaged"],e=this.selection;e.list=[],t.forEach(function(t){var i=e[t]||[];for(var n in i)e.list.push(i[n])})},alert:function(t){this.$set(this.alertInfo,"content",t),this.$refs.alertInfo.open()},confirmClose:function(t){"ok"===t&&("download"===this.confirm.type?this.downloadApi():"upload"===this.confirm.type)},catchError:function(t){this.alert("网络错误，请稍后重试")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"sync-proj",data:function(){return{selection:{},show:{copy:!1},projList:[],apiList:[],pageInfo:{total:0,pageNo:0,pageSize:20},confirm:{title:"删除api",contentHtml:" ",type:"delete"},alertInfo:{content:" "}}},computed:{},mounted:function(){this.app=this.$resource("",{},{get:{method:"GET",url:"/mock/clientGetProjDiff"},downBase:{method:"PUT",url:"/mock/clientDownLoadProjBase"},downAll:{method:"PUT",url:"/mock/clientDownLoadProj"}}),this.getProjectList()},methods:{getProjectList:function(){var t={};return this.app.get(t).then(function(t){return t=t.data,t.code?void this.alert(t.err):void(this.projList=t.data)})},downLoadBase:function(){var t={id:this.selection.client._uid};return this.app.downBase(t).then(function(t){return t=t.data,t.code?void this.alert(t.err):void this.alert(t.data.tips)})},downLoadAll:function(t,e){var i={id:this.selection.client._uid};return this.app.downAll(i).then(function(t){return t=t.data,t.code?void this.alert(t.err):void this.alert(t.data.tips)})},buttonUpload:function(t,e){},buttonEditApi:function(t,e){this.$router.push({name:"sync-api",params:{id:e._uid},query:{name:e.name}})},buttonDownLoadBase:function(t,e){this.selection.client=e,this.confirm.title="下载项目基础信息",this.confirm.func="downLoadBase",this.confirm.contentHtml="是否从服务端下载项目： "+e.name+", id:"+e._id,this.$refs.confirmDiag.open()},buttonDownLoadAll:function(t,e){this.selection.client=e,this.confirm.title="下载服务器项目",this.confirm.func="downLoadAll",this.confirm.contentHtml="是否从服务端下载项目： "+e.name+", id:"+e._id,this.$refs.confirmDiag.open()},buttonOpen:function(t){},alert:function(t){this.$set(this.alertInfo,"content",t),this.$refs.alertInfo.open()},confirmClose:function(t){"ok"===t&&this[this.confirm.func]&&this[this.confirm.func]()},catchError:function(t){this.alert("网络错误，请稍后重试")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tips"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){i(104);var n=i(1)(i(48),i(128),null,null);t.exports=n.exports},function(t,e,i){var n=i(1)(i(49),i(135),null,null);t.exports=n.exports},function(t,e,i){i(108);var n=i(1)(i(51),i(132),null,null);t.exports=n.exports},function(t,e,i){i(105);var n=i(1)(i(52),i(129),null,null);t.exports=n.exports},function(t,e,i){i(102);var n=i(1)(i(53),i(126),null,null);t.exports=n.exports},function(t,e,i){i(103);var n=i(1)(i(54),i(127),null,null);t.exports=n.exports},function(t,e,i){i(110);var n=i(1)(i(55),i(136),null,null);t.exports=n.exports},function(t,e,i){i(107);var n=i(1)(i(56),i(131),null,null);t.exports=n.exports},function(t,e,i){i(112);var n=i(1)(i(57),i(138),null,null);t.exports=n.exports},function(t,e,i){i(111);var n=i(1)(i(58),i(137),null,null);t.exports=n.exports},function(t,e,i){i(106);var n=i(1)(i(59),i(130),null,null);t.exports=n.exports},function(t,e,i){i(109);var n=i(1)(i(60),i(133),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"m-api-list-speeddial"},[i("md-button",{staticClass:"md-fab md-primary",nativeOn:{click:function(e){t.chooseProj(e)}}},[i("md-icon",[t._v("swap_horiz")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("切换项目")])],1),t._v(" "),i("md-button",{staticClass:"md-fab md-primary",nativeOn:{click:function(e){t.showSearch(e)}}},[i("md-icon",[t._v("search")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("搜索")])],1),t._v(" "),i("md-button",{staticClass:"md-fab md-primary",attrs:{href:"/#/apiAdd"}},[i("md-icon",[t._v("add")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("添加API")])],1),t._v(" "),i("md-button",{staticClass:"md-fab md-primary",nativeOn:{click:function(e){t.buttonCopyAllApi(e)}}},[i("md-icon",[t._v("content_copy")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("复制所有API")])],1),t._v(" "),i("md-button",{
staticClass:"md-fab md-primary",attrs:{"md-theme":"rightbar"},nativeOn:{click:function(e){t.buttonNav(e,-1)}}},[i("md-icon",[t._v("navigate_before")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("上一页")])],1),t._v(" "),i("md-button",{staticClass:"md-fab md-warn",attrs:{"md-theme":"rightbar"}},[t._v("\n      "+t._s(t.pageInfo.pageNo+1)+"/"+t._s(t.pageInfo.pageNum)+"\n    ")]),t._v(" "),i("md-button",{staticClass:"md-fab md-primary",attrs:{"md-theme":"rightbar"},nativeOn:{click:function(e){t.buttonNav(e,1)}}},[i("md-icon",[t._v("navigate_next")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("下一页")])],1)],1),t._v(" "),t.show.search?i("div",{staticClass:"m-api-list-search"},[i("md-input-container",[i("md-icon",{staticClass:"md-warn"},[t._v("\n        search\n      ")]),t._v(" "),i("label",[t._v("输入关键字进行搜索")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.selection.search,expression:"selection.search"}],attrs:{type:"search"},domProps:{value:t.selection.search},on:{change:t.inputSearch,input:function(e){t.selection.search=e}}})],1)],1):t._e(),t._v(" "),t.show.proj?i("div",{staticClass:"m-api-list-choose-proj"},[i("div",{staticClass:"m-api-list-choose-proj-box"},[i("h3",[t._v("切换项目")]),t._v(" "),i("md-list",{nativeOn:{click:function(e){t.setSelectionVal(e)}}},t._l(t.projList,function(e){return i("md-list-item",{staticClass:"m-api-list-selection",attrs:{href:"javascript:;","data-id":e._id,"data-name":e.name}},[i("md-icon",{directives:[{name:"show",rawName:"v-show",value:t.selection.proj===e._id,expression:"selection.proj === proj._id"}],staticClass:"md-primary"},[t._v("check")]),t._v(" "),i("span",[t._v(t._s(e.name))])],1)}))],1)]):t._e(),t._v(" "),i("div",{staticClass:"m-api-card-list"},[i("h1",{staticClass:"md-title app-toolbar-title"},[t._v("API列表 -- "+t._s(t.selection.projName))]),t._v(" "),t._l(t.apiList,function(e){return i("md-card",{key:e._id,staticClass:"m-api-list",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title",style:{"font-size":t.getFontSize(e.name)}},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.method.toUpperCase())+" --> "+t._s(e.url))])])],1),t._v(" "),i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-content",[t._v("\n            "+t._s(e.description)+"\n          ")])],1),t._v(" "),i("md-card-content",{staticClass:"m-api-card-list-buttons"},[i("md-icon",{staticClass:"darkIcon"},[t._v("settings")]),t._v(" "),i("md-button-toggle",{staticClass:"md-button-group",attrs:{"md-single":""}},[i("md-button",{nativeOn:{click:function(i){t.buttonSetApi(i,e._id,"clear")}}},[t._v("\n              清除\n              "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("清除设置api的默认项，如错误、随机和固定值")])],1),t._v(" "),i("md-button",{nativeOn:{click:function(i){t.buttonSetApi(i,e._id,"error")}}},[t._v("\n              错误\n              "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("设置api当前值为错误值")])],1),t._v(" "),i("md-button",{nativeOn:{click:function(i){t.buttonSetApi(i,e._id,"random")}}},[t._v("\n              随机\n              "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("设置api当前值为随机值")])],1)],1)],1),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonCopyApi(i,e._id)}}},[i("md-icon",[t._v("content_copy")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("复制到其他项目")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttondeleteApi(i,e)}}},[i("md-icon",[t._v("delete")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("删除")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonEditApi(i,e._id)}}},[i("md-icon",[t._v("mode_edit")]),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("编辑")])],1)],1)],1)})],2),t._v(" "),t.show.copy?i("div",{staticClass:"m-api-move-module"},[i("md-whiteframe",{staticClass:"m-api-move-module-box",attrs:{"md-elevation":"5"}},[i("h2",[t._v("复制api到项目")]),t._v(" "),i("div",{staticClass:"m-api-move-module-choose"},[i("div",{staticClass:"m-api-move-api"},[i("md-table-card",[i("md-table",{on:{select:t.selectApi}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("选择api")])],1)],1),t._v(" "),i("md-table-body",t._l(t.apiList,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                      "+t._s(e.name)+"\n                    ")])],1)}))],1)],1)],1),t._v(" "),i("div",{staticClass:"m-api-move-project"},[i("md-table-card",[i("md-table",{on:{select:t.selectProj}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("选择项目")])],1)],1),t._v(" "),i("md-table-body",t._l(t.projList,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                      "+t._s(e.name)+"\n                    ")])],1)}))],1)],1)],1)]),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.buttonCloseCopy(e)}}},[t._v("关闭")]),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.buttonSubmitCopy(e)}}},[t._v("提交")])],1)],1):t._e(),t._v(" "),i("md-dialog-alert",{ref:"alertInfo",attrs:{"md-content":t.alertInfo.content,"md-ok-text":"我知道了"}}),t._v(" "),i("md-dialog-confirm",{ref:"confirmDiag",attrs:{"md-title":t.confirm.title,"md-content-html":t.confirm.contentHtml,"md-ok-text":"确定","md-cancel-text":"取消"},on:{close:t.confirmClose}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-whiteframe",{staticClass:"app-project-show",attrs:{"md-elevation":"10"}},[i("md-toolbar",{},[i("h1",{staticClass:"md-title app-toolbar-title"},[t._v("基础信息管理")])]),t._v(" "),i("div",{staticClass:"app-project-show-form"},[i("md-input-container",[i("label",[t._v("远程地址")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.model.remoteAddress,expression:"model.remoteAddress"}],domProps:{value:t.model.remoteAddress},on:{input:function(e){t.model.remoteAddress=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("远程登录用户名")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.model.remoteName,expression:"model.remoteName"}],domProps:{value:t.model.remoteName},on:{input:function(e){t.model.remoteName=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("远程登录密码")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.model.remotePassword,expression:"model.remotePassword"}],domProps:{value:t.model.remotePassword},on:{input:function(e){t.model.remotePassword=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("系统管理端口")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.model.managePort,expression:"model.managePort"}],domProps:{value:t.model.managePort},on:{input:function(e){t.model.managePort=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("默认项目")]),t._v(" "),i("md-select",{directives:[{name:"model",rawName:"v-model",value:t.model.defaultProject,expression:"model.defaultProject"}],attrs:{name:"proj",id:"proj"},domProps:{value:t.model.defaultProject},on:{input:function(e){t.model.defaultProject=e}}},t._l(t.projList,function(e){return i("md-option",{attrs:{value:e._id}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.buttonSubmit(e)}}},[t._v("提交")])],1),t._v(" "),i("md-dialog-alert",{ref:"alertInfo",attrs:{"md-content":t.alertInfo.content,"md-ok-text":"我知道了"}}),t._v(" "),i("md-dialog-confirm",{ref:"confirmDiag",attrs:{"md-title":t.confirm.title,"md-content-html":t.confirm.contentHtml,"md-ok-text":"确定","md-cancel-text":"取消"},on:{close:t.confirmClose}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("nav-bar"),t._v(" "),i("transition",{attrs:{name:"slide-left",mode:"out-in"}},[i("router-view",{staticClass:"aaa",attrs:{id:"main-router-view"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-whiteframe",{staticClass:"app-project-show",attrs:{"md-elevation":"10"}},[i("md-toolbar",{},[i("h1",{staticClass:"md-title app-toolbar-title"},[t._v("api基础信息 —— "+t._s(t.formModel.apiBase.name))])]),t._v(" "),i("div",{staticClass:"app-project-show-form"},[i("md-input-container",[i("label",[t._v("所属项目")]),t._v(" "),i("md-select",{directives:[{name:"model",rawName:"v-model",value:t.formModel.apiBase.project,expression:"formModel.apiBase.project"}],attrs:{name:"proj",id:"proj"},domProps:{value:t.formModel.apiBase.project},on:{change:t.projSelect,input:function(e){t.formModel.apiBase.project=e}}},t._l(t.projList,function(e){return i("md-option",{attrs:{value:e._id}},[t._v(t._s(e.name))])})),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v("选择项目后将为该项目添加API, 必选")])],1),t._v(" "),t._l(t.apiBasicForm,function(e){return"project"!=e.model?i("md-input-container",[i("label",[t._v(t._s(e.name))]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.formModel.apiBase[e.model],expression:"formModel.apiBase[form.model]"}],domProps:{value:t.formModel.apiBase[e.model]},on:{input:function(i){var n=t.formModel.apiBase,a=e.model;Array.isArray(n)?n.splice(a,1,i):t.formModel.apiBase[e.model]=i}}})],1):t._e()})],2),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.buttonSubmit()}}},[t._v("提交")])],1),t._v(" "),t._l(t.formModel.apiModel,function(e,n){return i("md-whiteframe",{key:n,staticClass:"app-project-show",attrs:{"md-elevation":"10"}},[i("md-toolbar",{},[i("h1",{staticClass:"md-title app-toolbar-title"},[t._v("api数据定义分支 —— "+t._s(e.name))]),t._v(" "),i("span",{staticStyle:{flex:"1"}}),t._v(" "),i("md-button",{staticClass:"md-icon-button m-api-add-btn-set",attrs:{href:"javascript:;","data-mIndex":n},nativeOn:{click:function(e){t.setAsNow(e)}}},[t._v("\n          设为当前值\n       ")]),t._v(" "),i("md-button",{staticClass:"md-icon-button",attrs:{"data-mIndex":n},nativeOn:{click:function(e){t.deleteApiModel(e)}}},[t._v("\n          删除\n       ")])],1),t._v(" "),i("div",{staticClass:"app-project-show-form"},[i("md-input-container",[i("label",[t._v("名称")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"model.name"}],domProps:{value:e.name},on:{input:function(t){e.name=t}}}),t._v(" "),i("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v("用于标识该数据的分支，作用不大")])],1),t._v(" "),i("md-input-container",[i("label",[t._v("判断条件")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:e.condition,expression:"model.condition"}],domProps:{value:e.condition},on:{input:function(t){e.condition=t}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("输入参数模板")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputParam,expression:"model.inputParam"}],domProps:{value:e.inputParam},on:{input:function(t){e.inputParam=t}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("输出参数模板")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:e.outputParam,expression:"model.outputParam"}],domProps:{value:e.outputParam},on:{input:function(t){e.outputParam=t}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("Mock 数据")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:e.data,expression:"model.data"}],domProps:{value:e.data},on:{input:function(t){e.data=t}}})],1)],1),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.buttonSubmit(e,n)}}},[t._v("提交")])],1)}),t._v(" "),i("div",{staticClass:"m-api-add-button"},[i("md-button",{staticClass:"md-accent m-api-add-new",nativeOn:{click:function(e){t.buttonAddNew(e)}}},[t._v("新建分支")])],1),t._v(" "),i("md-dialog-alert",{ref:"alertInfo",attrs:{"md-content":t.alertInfo.content,"md-ok-text":"我知道了"}}),t._v(" "),i("md-dialog-confirm",{ref:"confirmDiag",attrs:{"md-title":t.confirm.title,"md-content-html":t.confirm.contentHtml,"md-ok-text":"确定","md-cancel-text":"取消"},on:{close:t.confirmClose}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"m-sync-proj-behind m-sync-list"},t._l(t.projList.behind,function(e){return i("md-card",{staticClass:"m-sync-card",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v(t._s(e.client.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.client.port)+" --> "+t._s(e.client.path))])])],1),t._v(" "),i("md-card-content",[t._v("\n          本项目修改时间落后于服务端。项目成员有："+t._s(e.client.member)+"\n        ")]),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonDownLoadBase(i,e.client)}}},[i("md-icon",[t._v("file_download")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonUpload(i,e.client)}}},[i("md-icon",[t._v("file_upload")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonEditApi(i,e.client)}}},[i("md-icon",[t._v("folder_open")])],1)],1)],1)})),t._v(" "),i("div",{staticClass:"m-sync-proj-serverside m-sync-list"},t._l(t.projList.serverSide,function(e){return i("md-card",{staticClass:"m-sync-card",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v(t._s(e.server.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.server.port)+" --> "+t._s(e.server.path))])])],1),t._v(" "),i("md-card-content",[t._v("\n          本项目仅存于服务端。项目成员有："+t._s(e.server.member)+"\n        ")]),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonDownLoadAll(i,e.server)}}},[i("md-icon",[t._v("file_download")])],1)],1)],1)})),t._v(" "),i("div",{staticClass:"m-sync-proj-ahead m-sync-list"},t._l(t.projList.ahead,function(e){return i("md-card",{staticClass:"m-sync-card",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v(t._s(e.client.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.client.port)+" --> "+t._s(e.client.path))])])],1),t._v(" "),i("md-card-content",[t._v("\n          本项目修改时间领先于服务端。项目成员有："+t._s(e.client.member)+"\n        ")]),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonDownLoadBase(i,e.client)}}},[i("md-icon",[t._v("file_download")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonUpload(i,e.client)}}},[i("md-icon",[t._v("file_upload")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonEditApi(i,e.client)}}},[i("md-icon",[t._v("folder_open")])],1)],1)],1)})),t._v(" "),i("div",{staticClass:"m-sync-proj-client m-sync-list"},t._l(t.projList.clientSide,function(e){return i("md-card",{staticClass:"m-sync-card",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v(t._s(e.client.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.client.port)+" --> "+t._s(e.client.path))])])],1),t._v(" "),i("md-card-content",[t._v("\n          本项目仅存于客户端。项目成员有："+t._s(e.client.member)+"\n        ")]),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonDownLoadBase(i,e.client)}}},[i("md-icon",[t._v("file_download")])],1)],1)],1)})),t._v(" "),i("div",{staticClass:"m-sync-proj-unchanged m-sync-list"},t._l(t.projList.unchanged,function(e){return i("md-card",{staticClass:"m-sync-card",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v(t._s(e.client.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.client.port)+" --> "+t._s(e.client.path))])])],1),t._v(" "),i("md-card-content",[t._v("\n          和服务器端相同。项目成员有："+t._s(e.client.member)+"\n        ")]),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonDownLoadBase(i,e.client)}}},[i("md-icon",[t._v("file_download")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonUpload(i,e.client)}}},[i("md-icon",[t._v("file_upload")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonEditApi(i,e.client)}}},[i("md-icon",[t._v("folder_open")])],1)],1)],1)})),t._v(" "),i("div",{staticClass:"m-sync-proj-untaged m-sync-list"},t._l(t.projList.untaged,function(e){return i("md-card",{staticClass:"m-sync-card",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v(t._s(e.client.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.client.port)+" --> "+t._s(e.client.path))])])],1),t._v(" "),i("md-card-content",[t._v("\n          本项目信息未知。项目成员有："+t._s(e.client.member)+"\n        ")]),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonDownLoadBase(i,e.client)}}},[i("md-icon",[t._v("file_download")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonUpload(i,e.client)}}},[i("md-icon",[t._v("file_upload")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(i){t.buttonEditApi(i,e.client)}}},[i("md-icon",[t._v("folder_open")])],1)],1)],1)})),t._v(" "),i("md-dialog-alert",{ref:"alertInfo",attrs:{"md-content":t.alertInfo.content,"md-ok-text":"我知道了"}}),t._v(" "),i("md-dialog-confirm",{ref:"confirmDiag",attrs:{"md-title":t.confirm.title,"md-content-html":t.confirm.contentHtml,"md-ok-text":"确定","md-cancel-text":"取消"},on:{close:t.confirmClose}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-main"},[i("h1",[t._v("HELLO")]),t._v(" "),i("div",{staticClass:"m-main-box"},[i("transition",{attrs:{name:"fly-left",mode:"in-out"}},[t.hideRight?t._e():i("div",{staticClass:"m-main-urls"},[i("md-icon",{staticClass:"md-warn m-main-url-clear",nativeOn:{click:function(e){t.closePanel(e)}}},[t._v("clear")]),t._v(" "),i("h3",[t._v("常用链接列表")]),t._v(" "),t._l(t.urlList,function(e){return i("md-list",{staticClass:"md-double-line"},[i("transition-group",[i("md-list-item",{key:e.name},[i("md-icon",{staticClass:"md-primary"},[t._v(t._s(e.list?"folder":"language"))]),t._v(" "),e.list?i("span",[t._v(t._s(e.name))]):t._e(),t._v(" "),e.list?t._e():i("div",{staticClass:"md-list-text-container"},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("a",{attrs:{href:"http://localhost:"+t.port+e.url,target:"_blank"}},[t._v(t._s(e.url))])]),t._v(" "),e.list?t._e():i("md-button",{staticClass:"md-icon-button md-list-action",nativeOn:{click:function(i){t.findApi(i,e)}}},[i("md-icon",[t._v("search")])],1),t._v(" "),e.list?i("md-list-expand",[i("md-list",{staticClass:"md-double-line"},t._l(e.list,function(e){return i("md-list-item",[i("md-icon",{staticClass:"md-primary"},[t._v("language")]),t._v(" "),i("div",{staticClass:"md-list-text-container"},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("a",{attrs:{href:"http://localhost:"+t.port+e.url,target:"_blank"}},[t._v(t._s(e.url))])]),t._v(" "),i("md-button",{staticClass:"md-icon-button md-list-action",nativeOn:{click:function(i){t.findApi(i,e)}}},[i("md-icon",[t._v("search")])],1)],1)}))],1):t._e()],1)],1)],1)})],2)]),t._v(" "),i("div",{staticClass:"m-main-card-list",class:{"show-list":!t.hideRight}},t._l(t.runningProject,function(e){return i("md-card",{staticClass:"m-api-list",attrs:{"md-with-hover":""}},[i("md-card-header",[i("md-card-header-text",[i("div",{staticClass:"md-title"},[t._v(t._s(e.procInfo.name))]),t._v(" "),i("div",{staticClass:"md-subhead"},[t._v(t._s(e.createdTime))])])],1),t._v(" "),i("md-card-content",[i("p",[t._v("运行端口-"+t._s(e.procInfo.port)+"pid --> "+t._s(e.pid))]),t._v(" "),i("p",[t._v("项目路径 -- "+t._s(e.procInfo.path))]),t._v(" "),i("p",[t._v("运行状态 -- "+t._s(2===e.status?"启动中":e.status?"运行中":"暂停运行"))])]),t._v(" "),i("md-card-actions",[i("md-button",{staticClass:"md-icon-button",attrs:{"md-tooltip":"重启"},nativeOn:{click:function(i){t.restartProj(i,e.procInfo._id)}}},[i("md-icon",[t._v("refresh")])],1),t._v(" "),e.procInfo.urls&&e.procInfo.urls.length?i("md-button",{nativeOn:{click:function(i){t.showList(i,e)}}},[t._v("\n            查看url列表\n          ")]):t._e()],1)],1)}))],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"m-about-box"},[i("h1",[t._v("关于测试用工具")]),t._v(" "),i("p",[t._v("本工具提供文件服务器及相关api的测试数据，用于前端页面的调试。")]),t._v(" "),i("p",[t._v("github: "),i("a",{attrs:{href:"https://github.com/wenlonghuo/fe-mock-server",target:"_blank"}},[t._v("https://github.com/wenlonghuo/fe-mock-server")])]),t._v(" "),i("p",[t._v("Html框架："),i("a",{attrs:{href:"https://github.com/marcosmoura/vue-material",target:"_blank"}},[t._v("https://github.com/marcosmoura/vue-material")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"m-tips-box"},[i("h1",[t._v("关于测试用工具")]),t._v(" "),i("p",[t._v("本工具提供文件服务器及相关api的测试数据，用于前端页面的调试。")]),t._v(" "),i("p",[t._v("github: "),i("a",{attrs:{href:"https://github.com/wenlonghuo/fe-mock-server",target:"_blank"}},[t._v("https://github.com/wenlonghuo/fe-mock-server")])]),t._v(" "),i("p",[t._v("Html框架："),i("a",{attrs:{href:"https://github.com/marcosmoura/vue-material",target:"_blank"}},[t._v("https://github.com/marcosmoura/vue-material")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"md-table-pagination"},[i("span",{staticClass:"md-table-pagination-label"},[t._v(t._s(t.mdLabel)+":")]),t._v(" "),t.mdPageOptions?i("md-select",{directives:[{name:"model",rawName:"v-model",value:t.currentSize,expression:"currentSize"}],attrs:{"md-menu-class":"md-pagination-select"},domProps:{value:t.currentSize},on:{change:t.changeSize,input:function(e){t.currentSize=e}}},t._l(t.mdPageOptions,function(e){return i("md-option",{attrs:{value:e}},[t._v(t._s(e))])})):t._e(),t._v(" "),i("span",[t._v(t._s((t.currentPage-1)*t.currentSize+1)+"-"+t._s(t.subTotal)+" "+t._s(t.mdSeparator)+" "+t._s(t.mdTotal))]),t._v(" "),i("md-button",{staticClass:"md-icon-button md-table-pagination-previous",attrs:{disabled:1===t.currentPage},nativeOn:{click:function(e){t.previousPage(e)}}},[i("md-icon",[t._v("keyboard_arrow_left")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button md-table-pagination-next",attrs:{disabled:t.currentSize*t.currentPage>=t.totalItems},nativeOn:{click:function(e){t.nextPage(e)}}},[i("md-icon",[t._v("keyboard_arrow_right")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("md-toolbar",[i("h2",{staticClass:"md-title"},[t._v("后台管理")]),t._v(" "),i("md-button",{attrs:{href:"/#/"}},[t._v("首页")]),t._v(" "),i("md-button",{attrs:{"md-menu-trigger":"",href:"/#/api"}},[t._v("API列表")]),t._v(" "),i("md-button",{attrs:{href:"/#/projectList/"}},[t._v("项目管理")]),t._v(" "),i("md-button",{attrs:{href:"/#/app/base"}},[t._v("基础信息配置")]),t._v(" "),i("md-menu",{staticStyle:{flex:"1"},attrs:{"md-align-trigger":""}},[i("md-button",{attrs:{"md-menu-trigger":""}},[t._v("其他功能")]),t._v(" "),i("md-menu-content",[i("md-menu-item",[t._v("导入api数据")]),t._v(" "),i("md-menu-item",[t._v("导出api数据")]),t._v(" "),i("md-menu-item",{nativeOn:{click:function(e){t.navTo(e,"sync-proj")}}},[t._v("同步服务器数据")])],1)],1),t._v(" "),i("md-button",{attrs:{href:"/#/log"}},[t._v("日志")]),t._v(" "),i("md-button",{attrs:{href:"https://github.com/wenlonghuo/fe-mock-server/tree/master/doc/guide.md"}},[t._v("指南")]),t._v(" "),i("md-button",{attrs:{href:"/#/about"}},[t._v("关于")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-log-main",style:{height:t.dHeight}},[i("div",{staticClass:"m-log-leftBox"},[i("md-whiteframe",{staticClass:"m-log-leftBox-tool",attrs:{"md-elevation":"1"}},[i("h1",{staticClass:"md-title"},[t._v("日志记录")]),t._v(" "),i("div",{staticClass:"m-log-tool-choose"},[i("div",{staticClass:"m-log-proj"},[i("label",{attrs:{for:"proj"}},[t._v("选择项目")]),t._v(" "),i("md-select",{directives:[{name:"model",rawName:"v-model",value:t.selection.proj,expression:"selection.proj"}],attrs:{name:"proj",id:"proj",multiple:""},domProps:{value:t.selection.proj},on:{change:t.buttonSelectProj,input:function(e){t.selection.proj=e}}},t._l(t.projList,function(e){return i("md-option",{attrs:{value:e._id}},[t._v(t._s(e.name))])}))],1)])]),t._v(" "),i("md-whiteframe",{staticClass:"m-log-leftBox-main",attrs:{"md-elevation":"1"},nativeOn:{click:function(e){t.showDetail(e)}}},t._l(t.logs,function(e,n){return i("div",{staticClass:"m-log-item",attrs:{"data-id":n}},[t._v("\n            ["),i("span",[t._v(t._s(t.formatTime(e.time))+" ")]),t._v("]\n            "),i("span",[t._v(t._s(e.data)+",")]),t._v(" "),i("span",[t._v(t._s(e.project)+",")]),t._v(" "),i("span",[t._v(t._s(e.api))])])}))],1),t._v(" "),i("md-card",{staticClass:"m-log-rightBox",attrs:{"md-elevation":"10"}},[i("md-card-header",[i("h2",{staticClass:"md-title"},[t._v("log详情")])]),t._v(" "),i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-header",[i("h2",{staticClass:"md-subheading"},[t._v(t._s(t.detail.api))]),t._v(" "),i("div",{staticClass:"md-subhead"},[i("span",[t._v(t._s(t.detail.project))]),t._v(" "),i("span",[t._v(t._s(t.detail.apiModel))]),t._v(" "),i("span",[t._v(t._s(t.formatTime(t.detail.time)))]),t._v(" "),i("span")])]),t._v(" "),i("md-card-content",[t._v("\n            "+t._s(t.detail.data)+"\n        ")])],1),t._v(" "),t.detail.req?i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-header",[i("h2",{staticClass:"md-subheading"},[i("span",[t._v("请求参数")]),t._v(" "),i("md-icon",{staticClass:"m-log-btn-copy",nativeOn:{click:function(e){t.copyResult(e,t.detail.req)}}},[t._v("content_copy")])],1)]),t._v(" "),i("md-card-content",[i("pre",[i("code",{attrs:{lang:"json"}},[t._v(t._s(t.formatStr(t.detail.req)))])])])],1):t._e(),t._v(" "),t.detail.reqParsed?i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-header",[i("h3",{staticClass:"md-subheading"},[i("span",[t._v("转换后参数")]),t._v(" "),i("md-icon",{staticClass:"m-log-btn-copy",nativeOn:{click:function(e){t.copyResult(e,t.detail.reqParsed)}}},[t._v("content_copy")])],1)]),t._v(" "),i("md-card-content",[i("pre",[i("code",{attrs:{lang:"json"}},[t._v(t._s(t.formatStr(t.detail.reqParsed)))])])])],1):t._e(),t._v(" "),t.detail.res?i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-header",[i("h3",{staticClass:"md-subheading"},[i("span",[t._v("输出结果")]),t._v(" "),i("md-icon",{staticClass:"m-log-btn-copy",nativeOn:{click:function(e){t.copyResult(e,t.detail.res)}}},[t._v("content_copy")])],1)]),t._v(" "),i("md-card-content",[i("pre",[i("code",{attrs:{lang:"json"}},[t._v(t._s(t.formatStr(t.detail.res)))])])]),t._v(" "),i("md-card-actions",[t.detail.projectId&&t.detail.res?i("md-button",{nativeOn:{click:function(e){t.setApiAsDefault(e)}}},[i("md-icon",[t._v("settings")]),t._v("\n            设为当前值\n          ")],1):t._e()],1)],1):t._e(),t._v(" "),t.detail.err?i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-header",[i("h3",{staticClass:"md-subheading"},[t._v("错误详情")])]),t._v(" "),i("md-card-content",[i("pre",[i("code",{attrs:{lang:"json"}},[t._v(t._s(t.formatStr(t.detail.err)))])])])],1):t._e(),t._v(" "),t.detail.argv?i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-header",[i("h3",{staticClass:"md-subheading"},[t._v("应用启动参数")])]),t._v(" "),i("md-card-content",[i("pre",[i("code",{attrs:{lang:"json"}},[t._v(t._s(t.formatStr(t.detail.argv)))])])])],1):t._e(),t._v(" "),t.detail.additional?i("md-card-area",{attrs:{"md-inset":""}},[i("md-card-header",[i("h3",{staticClass:"md-subheading"},[t._v("其他参数")])]),t._v(" "),i("md-card-content",[i("pre",[i("code",{attrs:{lang:"json"}},[t._v(t._s(t.formatStr(t.detail.additional)))])])])],1):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"m-sync-api"},[i("md-whiteframe",{staticClass:"m-sync-api-box",attrs:{"md-elevation":"5"}},[i("h2",[t._v("同步api : "+t._s(t.projName))]),t._v(" "),i("div",{staticClass:"m-sync-api-module-choose"},[t.apiList.behind&&t.apiList.behind.length?i("div",{staticClass:"m-sync-api-behind"},[i("md-table-card",[i("md-table",{on:{select:function(e){t.selectApi(e,"behind")}}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("滞后于服务端")])],1)],1),t._v(" "),i("md-table-body",t._l(t.apiList.behind,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e.client,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                        "+t._s(e.client.base.name)+"\n                      ")])],1)}))],1)],1)],1):t._e(),t._v(" "),t.apiList.serverSide&&t.apiList.serverSide.length?i("div",{staticClass:"m-sync-api-server"},[i("md-table-card",[i("md-table",{on:{select:function(e){t.selectApi(e,"server")}}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("服务端新增")])],1)],1),t._v(" "),i("md-table-body",t._l(t.apiList.serverSide,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e.server,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                        "+t._s(e.server.base.name)+"\n                      ")])],1)}))],1)],1)],1):t._e(),t._v(" "),t.apiList.ahead&&t.apiList.ahead.length?i("div",{staticClass:"m-sync-api-ahead"},[i("md-table-card",[i("md-table",{on:{select:function(e){t.selectApi(e,"ahead")}}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("领先于服务端")])],1)],1),t._v(" "),i("md-table-body",t._l(t.apiList.ahead,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e.client,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                        "+t._s(e.client.base.name)+"\n                      ")])],1)}))],1)],1)],1):t._e(),t._v(" "),t.apiList.clientSide&&t.apiList.clientSide.length?i("div",{staticClass:"m-sync-api-client"},[i("md-table-card",[i("md-table",{on:{select:function(e){t.selectApi(e,"client")}}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("客户端独有")])],1)],1),t._v(" "),i("md-table-body",t._l(t.apiList.clientSide,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e.client,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                        "+t._s(e.client.base.name)+"\n                      ")])],1)}))],1)],1)],1):t._e(),t._v(" "),t.apiList.unchanged&&t.apiList.unchanged.length?i("div",{staticClass:"m-sync-api-unchanged"},[i("md-table-card",[i("md-table",{on:{select:function(e){t.selectApi(e,"unchanged")}}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("无变化")])],1)],1),t._v(" "),i("md-table-body",t._l(t.apiList.unchanged,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e.client,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                        "+t._s(e.client.base.name)+"\n                      ")])],1)}))],1)],1)],1):t._e(),t._v(" "),t.apiList.untaged&&t.apiList.untaged.length?i("div",{staticClass:"m-sync-api-untaged"},[i("md-table-card",[i("md-table",{on:{select:function(e){
t.selectApi(e,"untaged")}}},[i("md-table-header",[i("md-table-row",[i("md-table-head",[t._v("其他")])],1)],1),t._v(" "),i("md-table-body",t._l(t.apiList.untaged,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e.client,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[t._v("\n                        "+t._s(e.client.base.name)+"\n                      ")])],1)}))],1)],1)],1):t._e()]),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.buttonUpload(e)}}},[t._v("上传选中api")]),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.buttonDownload(e)}}},[t._v("下载选中api")])],1)],1),t._v(" "),i("md-dialog-alert",{ref:"alertInfo",attrs:{"md-content":t.alertInfo.content,"md-ok-text":"我知道了"}}),t._v(" "),i("md-dialog-confirm",{ref:"confirmDiag",attrs:{"md-title":t.confirm.title,"md-content-html":t.confirm.contentHtml,"md-ok-text":"确定","md-cancel-text":"取消"},on:{close:t.confirmClose}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("md-table-card",{directives:[{name:"show",rawName:"v-show",value:!t.showProj,expression:"!showProj"}],staticClass:"m-project-card"},[i("md-toolbar",{staticClass:"md-medium"},[i("h1",{staticClass:"md-title app-toolbar-title"},[t._v("项目列表")]),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.dealProject(e,"add")}}},[i("md-icon",[t._v("add")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button  md-warn",nativeOn:{click:function(e){t.openDiag(e)}}},[i("md-icon",[t._v("clear")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.controlProjectStatus(e,1)}}},[i("md-icon",[t._v("play_arrow")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button md-warn",nativeOn:{click:function(e){t.controlProjectStatus(e,0)}}},[i("md-icon",[t._v("stop_arrow")])],1),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.buttonSearch(e)}}},[i("md-icon",[t._v("search")])],1)],1),t._v(" "),i("md-table",{attrs:{id:"mytable"},on:{select:t.selectTable}},[i("md-table-header",[i("md-table-row",[i("md-table-head",{staticClass:"m-min-width"},[t._v("状态")]),t._v(" "),i("md-table-head",[t._v("名称")]),t._v(" "),i("md-table-head",{attrs:{"md-tooltip":"项目路径，请根据计算机上实际路径修改"}},[t._v("项目路径")]),t._v(" "),i("md-table-head",{staticClass:"m-min-width",attrs:{"md-tooltip":"请求的API端口"}},[t._v("端口")]),t._v(" "),i("md-table-head",{staticClass:"m-min-width"},[t._v(" 管理")])],1)],1),t._v(" "),i("md-table-body",t._l(t.list,function(e,n){return i("md-table-row",{key:n,attrs:{"md-item":e,"data-item":e._id,"md-auto-select":"","md-selection":""}},[i("md-table-cell",[e.status?i("md-icon",{staticClass:"md-primary m-inline"},[t._v("lightbulb_outline")]):i("md-icon",{staticClass:"m-inline"},[t._v("lightbulb_outline")])],1),t._v(" "),i("md-table-cell",[i("span",[t._v(t._s(e.name))])]),t._v(" "),i("md-table-cell",[i("span",[t._v(t._s(e.path))])]),t._v(" "),i("md-table-cell",[i("span",[t._v(t._s(e.port))])]),t._v(" "),i("md-table-cell",[i("md-button",{staticClass:"md-icon-button"},[i("md-icon",{attrs:{"data-id":e._id},nativeOn:{click:function(e){t.buttonEdit(e)}}},[t._v("edit")])],1)],1)],1)}))],1),t._v(" "),i("tb-pagination",{attrs:{"md-size":t.pageInfo.pageSize,"md-total":t.pageInfo.total,"md-page":t.pageInfo.pageNo,"md-label":"每页条数","md-separator":"of","md-page-options":[10,25,50]},on:{pagination:t.getProject}})],1),t._v(" "),t.showProj?i("md-whiteframe",{staticClass:"app-project-show",attrs:{"md-elevation":"10"}},[i("md-toolbar",{staticClass:"md-dense",attrs:{"md-theme":"md-menu"}},[i("h1",{staticClass:"md-title app-toolbar-title",staticStyle:{flex:"1","text-align":"left"},domProps:{innerHTML:t._s(t.proj.title)}}),t._v(" "),i("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.cancelVal("showProj")}}},[t._v("\n        取消\n      ")])],1),t._v(" "),i("div",{staticClass:"app-project-show-form"},[i("md-input-container",[i("label",[t._v("项目名称")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.name,expression:"proj.model.name"}],attrs:{type:"text"},domProps:{value:t.proj.model.name},on:{input:function(e){t.proj.model.name=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("成员组成")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.member,expression:"proj.model.member"}],domProps:{value:t.proj.model.member},on:{input:function(e){t.proj.model.member=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("项目路径")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.path,expression:"proj.model.path"}],domProps:{value:t.proj.model.path},on:{input:function(e){t.proj.model.path=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("访问端口")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.port,expression:"proj.model.port"}],domProps:{value:t.proj.model.port},on:{input:function(e){t.proj.model.port=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("错误消息配置")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.error,expression:"proj.model.error"}],domProps:{value:t.proj.model.error},on:{input:function(e){t.proj.model.error=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("随机值重复次数")]),t._v(" "),i("md-input",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.repeatTime,expression:"proj.model.repeatTime"}],domProps:{value:t.proj.model.repeatTime},on:{input:function(e){t.proj.model.repeatTime=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("代理")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.proxyTable,expression:"proj.model.proxyTable"}],domProps:{value:t.proj.model.proxyTable},on:{input:function(e){t.proj.model.proxyTable=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("常用url列表")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.urls,expression:"proj.model.urls"}],domProps:{value:t.proj.model.urls},on:{input:function(e){t.proj.model.urls=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("gulp配置")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.gulp,expression:"proj.model.gulp"}],domProps:{value:t.proj.model.gulp},on:{input:function(e){t.proj.model.gulp=e}}})],1),t._v(" "),i("md-input-container",[i("label",[t._v("webpack配置")]),t._v(" "),i("md-textarea",{directives:[{name:"model",rawName:"v-model",value:t.proj.model.webpack,expression:"proj.model.webpack"}],domProps:{value:t.proj.model.webpack},on:{input:function(e){t.proj.model.webpack=e}}})],1)],1),t._v(" "),i("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.submitProject(e)}}},[t._v("提交")])],1):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],staticClass:"app-input-search"},[i("md-input-container",[i("label",[t._v("可输入项目名称或项目成员")]),t._v(" "),i("md-input",{attrs:{placeholder:"搜索",type:"search"}})],1)],1),t._v(" "),i("md-dialog-alert",{ref:"alertInfo",attrs:{"md-content":t.alertInfo.content,"md-ok-text":"我知道了"}}),t._v(" "),i("md-dialog-confirm",{ref:"deleteDiag",attrs:{"md-title":t.deleteInfo.title,"md-content-html":t.deleteInfo.contentHtml,"md-ok-text":"确定","md-cancel-text":"取消"},on:{close:t.deleteDiagClose}})],1)},staticRenderFns:[]}},,,,,function(t,e){}]);